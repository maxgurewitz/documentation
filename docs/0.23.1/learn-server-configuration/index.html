<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Temporal Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Temporal Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-163137879-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-163137879-1",{anonymize_ip:!0})</script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-163137879-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-163137879-1")</script><title data-react-helmet="true">Configuring Temporal | Temporal</title><meta data-react-helmet="true" name="docsearch:version" content="0.23.1"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Configuring Temporal | Temporal"><meta data-react-helmet="true" name="description" content="Temporal Server configuration is found in development.yaml and may contain the following possible sections:"><meta data-react-helmet="true" property="og:description" content="Temporal Server configuration is found in development.yaml and may contain the following possible sections:"><meta data-react-helmet="true" property="og:url" content="https://temporalio.github.io/docs/0.23.1/learn-server-configuration"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.svg"><link data-react-helmet="true" rel="canonical" href="https://temporalio.github.io/docs/0.23.1/learn-server-configuration"><link rel="stylesheet" href="/styles.521d6e72.css">
<link rel="preload" href="/styles.d8e3b7fc.js" as="script">
<link rel="preload" href="/runtime~main.1e07de5c.js" as="script">
<link rel="preload" href="/main.27161440.js" as="script">
<link rel="preload" href="/2.ac527773.js" as="script">
<link rel="preload" href="/3.face3e90.js" as="script">
<link rel="preload" href="/4.e00d02d2.js" as="script">
<link rel="preload" href="/1be78505.ba76a349.js" as="script">
<link rel="preload" href="/250.cebfc639.js" as="script">
<link rel="preload" href="/d9d6c794.bea5a689.js" as="script">
<link rel="preload" href="/17896441.4680d9a9.js" as="script">
<link rel="preload" href="/a2bf80e6.c72f6e17.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_OaSq"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/favicon.svg" alt="Temporal logo"><strong class="navbar__title">Temporal</strong></a><a class="navbar__item navbar__link" href="/versions">v0.26.0</a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://temporal.io/careers" target="_blank" rel="noopener noreferrer" activeclassname="navbar__link--active" to="https://temporal.io/careers" class="navbar__item navbar__link">Jobs</a><a href="https://github.com/temporalio/temporal" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="https://join.slack.com/t/temporalio/shared_invite/zt-c1e99p8g-beF7~ZZW2HP6gGStXD8Nuw" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Slack</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/favicon.svg" alt="Temporal logo"><strong class="navbar__title">Temporal</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/versions">v0.26.0</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/overview">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://temporal.io/careers" target="_blank" rel="noopener noreferrer" activeclassname="navbar__link--active" to="https://temporal.io/careers" class="menu__link">Jobs</a></li><li class="menu__list-item"><a href="https://github.com/temporalio/temporal" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="https://join.slack.com/t/temporalio/shared_invite/zt-c1e99p8g-beF7~ZZW2HP6gGStXD8Nuw" target="_blank" rel="noopener noreferrer" class="menu__link">Slack</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp" role="complementary"><div class="sidebar_1kLs sidebarWithHideableNavbar_1-U5"><a tabindex="-1" class="sidebarLogo_3ono" href="/"><img src="/img/favicon.svg" alt="Temporal logo"><strong>Temporal</strong></a><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/license">MIT License</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/installing-server">Installing Temporal</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Use Cases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-periodic">Periodic Execution</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-orchestration">Microservice Orchestration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-polling">Polling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-event-driven">Event Driven Application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-partitioned-scan">Storage Scan</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-batch-job">Batch Job</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-provisioning">Infrastructure Provisioning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-cicd">CI/CD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-operational-management">Operational Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-interactive">Interactive Application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-dsl">DSL Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-big-ml">Big Data and ML</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Learn</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-glossary">Glossary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-workflows">Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-activities">Activities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-events">Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-queries">Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-topology">Deployment Topology</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-task-lists">Task Lists</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/0.23.1/learn-server-configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-archival">Archival</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-cross-dc-replication">Cross-DC Replication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-workflow-filtering">Filtering Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-cli">Command Line Interface</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Java SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/java-quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/java-workflow-interface">Workflow Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/java-implementing-workflows">Implementing Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/java-starting-workflow-executions">Starting workflow executions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/java-activity-interface">Activity Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/java-implementing-activities">Implementing activities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/java-versioning">Versioning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/java-distributed-cron">Distributed CRON</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Go SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-sdk-video-tutorial">SDK Video Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-workers">Worker Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-create-workflows">Creating Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-activities">Activities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-execute-activity">Executing Activities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-child-workflows">Child Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-retries">Activity and Workflow Retries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-error-handling">Error Handling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-signals">Signals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-continue-as-new">ContinueAsNew</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-side-effect">SideEffect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-queries">Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-activity-async-completion">Asynchronous Activity Completion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-workflow-testing">Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-versioning">Versioning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-sessions">Sessions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-distributed-cron">Distributed CRON</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-tracing">Tracing and Context Propagation</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is archived documentation for Temporal <strong>v0.23.1</strong>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/docs/overview">latest version</a></strong>.</div></div><div class="docItemContainer_2cwg"><article><div><span class="badge badge--secondary">Version: 0.23.1</span></div><header><h1 class="docTitle_1vWb">Configuring Temporal</h1></header><div class="markdown"><p>Temporal Server configuration is found in <code>development.yaml</code> and may contain the following possible sections:</p><ul><li><a href="#global"><strong>global</strong></a> </li><li><a href="#persistence"><strong>persistence</strong></a> </li><li><a href="#log"><strong>log</strong></a> </li><li><a href="#clustermetadata"><strong>clusterMetadata</strong></a></li><li><a href="#services"><strong>services</strong></a></li><li><a href="#kafka"><strong>kafka</strong></a></li><li><a href="#publicclient"><strong>publicClient</strong></a></li><li>archival</li><li>dcRedirectionPolicy</li><li>dynamicConfigClient</li><li>namespaceDefaults</li></ul><p><strong>Note:</strong> Changing any properties in <code>development.yaml</code> file requires a process restart for changes to take effect.</p><p><strong>Note:</strong> If you&#x27;d like to dig deeper and see how we actually parse this file, see our source code <a href="https://github.com/temporalio/temporal/blob/master/common/service/config/config.go">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="global"></a>global<a aria-hidden="true" tabindex="-1" class="hash-link" href="#global" title="Direct link to heading">#</a></h2><p>The <code>global</code> section contains process-wide configuration. See below for a minimal configuration (optional parameters are commented out.)</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-yaml codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">global</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">membership</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> temporal</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#maxJoinDuration: 30s</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#broadcastAddress: &quot;127.0.0.1&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">#pprof:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#port: 7936</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">#tls:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="membership---required"></a>membership - <em>required</em><a aria-hidden="true" tabindex="-1" class="hash-link" href="#membership---required" title="Direct link to heading">#</a></h3><p>The <code>membership</code> section controls the following membership layer parameters:</p><ul><li><code>name</code> - <em>required</em> - used to identify other cluster members in the gossip ring. This must be the same for all nodes.</li><li><code>maxJoinDuration</code> - The amount of time the service will attempt to join the gossip layer before failing.</li><li><code>broadcastAddress</code> - Used as the address that is communicated to remote nodes to connect on. <ul><li>This is generally used when BindOnIP would be the same across several nodes (ie: 0.0.0.0) and for nat traversal scenarios. <code>net.ParseIP</code> controls the supported syntax. Note: Only IPV4 is supported.</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="pprof"></a>pprof<a aria-hidden="true" tabindex="-1" class="hash-link" href="#pprof" title="Direct link to heading">#</a></h3><ul><li><code>port</code> - If specified, this will initialize pprof upon process start on the listed port.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="tls"></a>tls<a aria-hidden="true" tabindex="-1" class="hash-link" href="#tls" title="Direct link to heading">#</a></h3><p>The <code>tls</code> section controls the SSL/TLS settings for network communication and contains two subsections, <code>internode</code> and <code>frontend</code>. The <code>internode</code> section governs internal service communication among roles where the <code>frontend</code> governs SDK client communication to the frontend service role.</p><p>Each of these subsections contain a <code>server</code> section and a <code>client</code> section. The <code>server</code> contains the following parameters:</p><ul><li><code>certFile</code> - The path to the file containing the PEM-encoded public key of the certificate to use.</li><li><code>keyFile</code> - The path to the file containing the PEM-encoded private key of the certificate to use.</li><li><code>requireClientAuth</code> - <em>boolean</em> - Requires clients to authenticate with a certificate when connecting, otherwise known as mutual TLS.</li><li><code>clientCaFiles</code> - A list of paths to files containing the PEM-encoded public key of the Certificate Authorities you wish to trust for client authentication. This value is ignored if <code>requireClientAuth</code> is not enabled.</li></ul><p>Below is an example enabling Server TLS (https) between SDKs and the Frontend APIs:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-yaml codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">global</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tls</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">frontend</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">server</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">certFile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /path/to/public/cert</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">keyFile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /path/to/private/cert</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">client</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">serverName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dnsSanInFrontendCertificate</span></div></div></div></div></div><p>Note, the <code>client</code> section generally needs to be provided to specify an expected DNS SubjectName contained in the presented server certificate via the <code>serverName</code> field; this is needed as Temporal uses IP to IP communication. You can avoid specifying this if your server certificates contain the appropriate IP Subject Alternative Names. </p><p>Additionally, the <code>rootCaFiles</code> field needs to be provided when the client&#x27;s host does not trust the Root CA used by the server. The example below extends the above example to manually specify the Root CA used by the frontend services:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-yaml codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">global</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tls</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">frontend</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">server</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">certFile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /path/to/public/cert</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">keyFile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /path/to/private/cert</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">client</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">serverName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dnsSanInFrontendCertificate</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">rootCaFiles</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> /path/to/frontend/server/ca</span></div></div></div></div></div><p>Below is an additional example of a fully secured cluster using mutual TLS for both frontend and internode communication with manually specified Cas:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-yaml codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">global</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tls</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">internode</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">server</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">certFile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /path/to/internode/publicCert</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">keyFile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /path/to/internode/privCert</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">requireClientAuth</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">clientCaFiles</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> /path/to/internode/serverCa</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">client</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">serverName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dnsSanInInternodeCertificate</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">rootCaFiles</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> /path/to/internode/serverCa</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">frontend</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">server</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">certFile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /path/to/frontend/publicCert</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">keyFile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /path/to/frontend/privCert</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">requireClientAuth</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">clientCaFiles</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> /path/to/internode/serverCa</span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> /path/to/sdkClientPool1/ca</span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> /path/to/sdkClientPool2/ca</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">client</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">serverName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dnsSanInFrontendCertificate</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">rootCaFiles</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> /path/to/frontend/serverCa</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><p><strong>Note:</strong> In the case that client authentication is enabled, the <code>internode.server</code> certificate is used as the client certificate among services. This adds the following requirements:</p><ul><li><p>The <code>internode.server</code> certificate must be specified on all roles, even for a frontend-only configuration.</p></li><li><p>Internode server certificates must be minted with either <strong>no</strong> Extended Key Usages or <strong>both</strong> ServerAuth and ClientAuth EKUs.</p></li><li><p>If your Certificate Authorities are untrusted, such as in the previous example, the internode server Ca will need to be specified in the following places:</p><ul><li><code>internode.server.clientCaFiles</code></li><li><code>internode.client.rootCaFiles</code></li><li><code>frontend.server.clientCaFiles</code></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="persistence"></a>persistence<a aria-hidden="true" tabindex="-1" class="hash-link" href="#persistence" title="Direct link to heading">#</a></h2><p>The <code>persistence</code> section holds configuration for the data store / persistence layer. Below is an example minimal specification for a password-secured Cassandra cluster.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-yaml codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">persistence</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">defaultStore</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">visibilityStore</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> visibility</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">numHistoryShards</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">512</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">datastores</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cassandra</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">hosts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;127.0.0.1&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">keyspace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;temporal&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;username&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;password&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">visibility</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cassandra</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">hosts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;127.0.0.1&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">keyspace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;temporal_visibility&quot;</span></div></div></div></div></div><p>The following top level configuration items are required:</p><ul><li><code>numHistoryShards</code> - <em>required</em> - the number of history shards to create when initializing the cluster. <ul><li><strong>Warning</strong>: This value is immutable and will be ignored after the first run. Please ensure you set this value appropriately high enough to scale with the worst case peak load for this cluster.</li></ul></li><li><code>defaultStore</code> - <em>required</em> - the name of the data store definition that should be used by the Temporal server.</li><li><code>visibilityStore</code> - <em>required</em> - the name of the data store definition that should be used by the Temporal visibility server.</li><li><code>datastores</code> - <em>required</em> - contains named data store definitions to be referenced.<ul><li>Each definition is defined with a heading declaring a name (ie: <code>default:</code> and <code>visibility:</code> above), which contains a data store definition.</li><li>data store definitions must be either <code>cassandra</code> or <code>sql</code>.</li></ul></li></ul><p>A <code>cassandra</code> data store definition can contain the following values:</p><ul><li><code>hosts</code> - <em>required</em> - a csv of Cassandra endpoints.</li><li><code>port</code> - default: 9042 - Cassandra port used for connection by <code>gocql</code> client.</li><li><code>user</code> - Cassandra user used for authentication by <code>gocql</code> client.</li><li><code>password</code> - Cassandra password used for authentication by <code>gocql</code> client.</li><li><code>keyspace</code> - <em>required</em> -  the Cassandra keyspace.</li><li><code>datacenter</code> - the data center filter arg for Cassandra.</li><li><code>maxConns</code> - the max number of connections to this data store for a single TLS configuration.</li><li><code>tls</code> - See TLS below.</li></ul><p>A <code>sql</code> data store definition can contain the following values:</p><ul><li><code>user</code> - user used for authentication.</li><li><code>password</code> - password used for authentication.</li><li><code>pluginName</code> - <em>required</em> - SQL database type.<ul><li><em>Valid values</em>: <code>mysql</code> or <code>postgres</code>.</li></ul></li><li><code>databaseName</code> - <em>required</em> - the name of SQL database to connect to.</li><li><code>connectAddr</code> - <em>required</em> - the remote addr of the database.</li><li><code>connectProtocol</code> - <em>required</em> - the protocol that goes with the <code>connectAddr</code><ul><li><em>Valid values</em>: <code>tcp</code> or <code>unix</code></li></ul></li><li><code>connectAttributes</code> - a map of key-value attributes to be sent as part of connect <code>data_source_name</code> url.</li><li><code>maxConns</code> - the max number of connections to this data store.</li><li><code>maxIdleConns</code> - the max number of idle connections to this data store</li><li><code>maxConnLifetime</code> - is the maximum time a connection can be alive.</li><li><code>numShards</code> - number of storage shards to use for tables in a sharded sql database (<em>Default:</em> 1).</li><li><code>tls</code> - See below.</li></ul><p><code>tls</code> sections may contain:</p><ul><li><code>enabled</code> - <em>boolean</em>.</li><li><code>serverName</code> - name of the server hosting the data store.</li><li><code>certFile</code> - path to the cert file.</li><li><code>keyFile</code> - path to the key file.</li><li><code>caFile</code> - path to the ca file.</li><li><code>enableHostVerification</code> - <em>boolean</em> - <code>true</code> to verify the hostname and server cert (like a wildcard for Cassandra cluster). This option is basically the inverse of <code>InSecureSkipVerify</code>. See <code>InSecureSkipVerify</code> in <a href="http://golang.org/pkg/crypto/tls/" target="_blank" rel="noopener noreferrer">http://golang.org/pkg/crypto/tls/</a> for more info.</li></ul><p>Note: <code>certFile</code> and <code>keyFile</code> are optional depending on server config, but both fields must be omitted to avoid using a client certificate.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="log"></a>log<a aria-hidden="true" tabindex="-1" class="hash-link" href="#log" title="Direct link to heading">#</a></h2><p>The <code>log</code> section is optional and contains the following possible values:</p><ul><li><code>stdout</code> - <em>boolean</em> - <code>true</code> if the output needs to go to standard out.</li><li><code>level</code> - sets the logging level.<ul><li><em>Valid values</em> - debug, info, warn, error or fatal.</li></ul></li><li><code>outputFile</code> - path to output log file.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="clustermetadata"></a>clusterMetadata<a aria-hidden="true" tabindex="-1" class="hash-link" href="#clustermetadata" title="Direct link to heading">#</a></h2><p><code>clusterMetadata</code> contains all cluster definitions, including those which participate in cross DC.</p><p>An example <code>clusterMetadata</code> section:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-yaml codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">clusterMetadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enableGlobalNamespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">failoverVersionIncrement</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">masterClusterName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;active&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">currentClusterName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;active&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">clusterInformation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">active</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">initialFailoverVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">rpcAddress</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;127.0.0.1:7233&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#replicationConsumer:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">#type: kafka</span></div></div></div></div></div><ul><li><code>currentClusterName</code> - <em>required</em> - the name of the current cluster. <strong>Warning</strong>: This value is immutable and will be ignored after the first run.</li><li><code>enableGlobalNamespace</code> - <em>Default:</em> <code>false</code>.</li><li><code>replicationConsumerConfig</code> - determines which method to use to consume replication tasks. The type may be either <code>kafka</code> or <code>rpc</code>.</li><li><code>failoverVersionIncrement</code> - the increment of each cluster version when failover happens.</li><li><code>masterClusterName</code> - the master cluster name, only the master cluster can register/update namespace. All clusters can do namespace failover.</li><li><code>clusterInformation</code> - contains a map of cluster names to <code>ClusterInformation</code> definitions. <code>ClusterInformation</code> sections consist of:<ul><li><code>enabled</code> - <em>boolean</em></li><li><code>initialFailoverVersion</code></li><li><code>rpcAddress</code> - indicate the remote service address (host:port). Host can be DNS name. Use <code>dns:///</code> prefix to enable round-robin between IP address for DNS name.</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="services"></a>services<a aria-hidden="true" tabindex="-1" class="hash-link" href="#services" title="Direct link to heading">#</a></h2><p>The <code>services</code> section contains configuration keyed by service role type. There are four supported service roles:</p><ul><li><code>frontend</code></li><li><code>matching</code></li><li><code>worker</code></li><li><code>history</code></li></ul><p>Below is a minimal example of a <code>frontend</code> service definition under <code>services</code>:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-yaml codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">frontend</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">rpc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">grpcPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8233</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">membershipPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8933</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">bindOnLocalHost</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metrics</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">statsd</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">hostPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;127.0.0.1:8125&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">prefix</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;temporal_standby&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><p>There are two sections defined under each service heading:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="rpc---required"></a>rpc - <em>required</em><a aria-hidden="true" tabindex="-1" class="hash-link" href="#rpc---required" title="Direct link to heading">#</a></h3><p><code>rpc</code> contains settings related to the way a service interacts with other services. The following values are supported:</p><ul><li><code>grpcPort</code> is the port  on which gRPC will listen.</li><li><code>membershipPort</code> - used by the membership listener.</li><li><code>bindOnLocalHost</code> - uses <code>localhost</code> as the listener address.</li><li><code>bindOnIP</code> - used to bind service on specific ip (eg. <code>0.0.0.0</code>) - check <code>net.ParseIP</code> for supported syntax, only IPv4 is supported, mutually exclusive with <code>BindOnLocalHost</code> option.</li><li><code>disableLogging</code> - disables all logging for rpc.</li><li><code>logLevel</code> - the desired log level.</li></ul><p><strong>Note</strong>: Port values are currently expected to be consistent among role types across all hosts. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="metrics"></a>metrics<a aria-hidden="true" tabindex="-1" class="hash-link" href="#metrics" title="Direct link to heading">#</a></h3><p><code>metrics</code> contains configuration for the metrics subsystem keyed by provider name. There are three supported providers:</p><ul><li><code>statsd</code></li><li><code>prometheus</code></li><li><code>m3</code></li></ul><p>The <code>statsd</code> sections supports the following settings:</p><ul><li><code>hostPort</code> - the statsd server host:port.</li><li><code>prefix</code> - specific prefix in reporting to <code>statsd</code>.</li><li><code>flushInterval</code> - maximum interval for sending packets. (<em>Default</em> 1 second).</li><li><code>flushBytes</code> - specifies the maximum UDP packet size you wish to send. (<em>Default</em> 1432 bytes).</li></ul><p>Additionally, metrics supports the following non-provider specific settings:</p><ul><li><code>tags</code> - the set of key-value pairs to be reported.</li><li><code>prefix</code> - sets the prefix to all outgoing metrics.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="kafka"></a>kafka<a aria-hidden="true" tabindex="-1" class="hash-link" href="#kafka" title="Direct link to heading">#</a></h2><p>The <code>kafka</code> section describes the configuration needed to connect to all Kafka clusters and supports the following values:</p><ul><li><code>tls</code> - uses the TLS structure as under the <code>persistence</code> section.</li><li><code>clusters</code> - map of named <code>ClusterConfig</code> definitions, which describe the configuration for each Kafka cluster. A <code>ClusterConfig</code> definition contains a list of brokers using the configuration value <code>brokers</code>.</li><li><code>topics</code> - map of topics to Kafka clusters.</li><li><code>temporal-cluster-topics</code>- map of named <code>TopicList</code> definitions.</li><li><code>applications</code> - map of named <code>TopicList</code> definitions.</li></ul><p>A <code>TopicList</code> definition describes the topic names for each cluster and contains the following required values:</p><ul><li><code>topic</code></li><li><code>retryTopic</code></li><li><code>dlqTopic</code></li></ul><p>Below is a sample <code>kafka</code> section:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-yaml codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">kafka</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tls</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">certFile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">keyFile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">caFile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">clusters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">test</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">brokers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> 127.0.0.1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">9092</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">topics</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">active</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cluster</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">active-dlq</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cluster</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">standby</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cluster</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">standby-dlq</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cluster</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">other</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cluster</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">other-dlq</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cluster</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">temporal-cluster-topics</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">active</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">topic</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> active</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">dlq-topic</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> active</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">dlq</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">standby</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">topic</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> standby</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">dlq-topic</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> standby</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">dlq</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">other</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">topic</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> other</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">dlq-topic</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> other</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">dlq</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="publicclient"></a>publicClient<a aria-hidden="true" tabindex="-1" class="hash-link" href="#publicclient" title="Direct link to heading">#</a></h2><p><code>publicClient</code> is a required section that contains a single value <code>hostPort</code> that is used to specify IPv4 address or DNS name and port to reach a frontend client.</p><p>Example:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-yaml codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">publicClient</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">hostPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;localhost:8933&quot;</span></div></div></div></div></div><p>Use <code>dns:///</code> prefix to enable round-robin between IP address for DNS name.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/temporalio/temporal-documentation-legacy-v2/blob/master/versioned_docs/version-0.23.1/learn-server-configuration.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/0.23.1/learn-task-lists"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label"> Task Lists</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/0.23.1/learn-archival"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Archival </div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#global" class="table-of-contents__link">global</a><ul><li><a href="#membership---required" class="table-of-contents__link">membership - <em>required</em></a></li><li><a href="#pprof" class="table-of-contents__link">pprof</a></li><li><a href="#tls" class="table-of-contents__link">tls</a></li></ul></li><li><a href="#persistence" class="table-of-contents__link">persistence</a></li><li><a href="#log" class="table-of-contents__link">log</a></li><li><a href="#clustermetadata" class="table-of-contents__link">clusterMetadata</a></li><li><a href="#services" class="table-of-contents__link">services</a><ul><li><a href="#rpc---required" class="table-of-contents__link">rpc - <em>required</em></a></li><li><a href="#metrics" class="table-of-contents__link">metrics</a></li></ul></li><li><a href="#kafka" class="table-of-contents__link">kafka</a></li><li><a href="#publicclient" class="table-of-contents__link">publicClient</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/overview">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/java-quick-start">Java SDK</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/go-quick-start">Go SDK</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/temporal-workflow" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://join.slack.com/t/temporalio/shared_invite/zt-c1e99p8g-beF7~ZZW2HP6gGStXD8Nuw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/temporalio/temporal" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright  2020 Temporal Technologies Inc.  All rights reserved. Copyright  2020 Uber Technologies, Inc.</div></div></div></footer></div>
<script src="/styles.d8e3b7fc.js"></script>
<script src="/runtime~main.1e07de5c.js"></script>
<script src="/main.27161440.js"></script>
<script src="/2.ac527773.js"></script>
<script src="/3.face3e90.js"></script>
<script src="/4.e00d02d2.js"></script>
<script src="/1be78505.ba76a349.js"></script>
<script src="/250.cebfc639.js"></script>
<script src="/d9d6c794.bea5a689.js"></script>
<script src="/17896441.4680d9a9.js"></script>
<script src="/a2bf80e6.c72f6e17.js"></script>
</body>
</html>