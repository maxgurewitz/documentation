<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Temporal Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Temporal Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-163137879-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-163137879-1",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Temporal" href="/opensearch.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-163137879-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-163137879-1")</script><title data-react-helmet="true">Cross-DC Replication | Temporal</title><meta data-react-helmet="true" name="docsearch:version" content="0.23.1"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Cross-DC Replication | Temporal"><meta data-react-helmet="true" name="description" content="The Temporal Global Namespace feature provides clients with the capability to continue their workflow execution from another"><meta data-react-helmet="true" property="og:description" content="The Temporal Global Namespace feature provides clients with the capability to continue their workflow execution from another"><meta data-react-helmet="true" property="og:url" content="https://temporalio.github.io/docs/0.23.1/learn-cross-dc-replication"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.svg"><link data-react-helmet="true" rel="canonical" href="https://temporalio.github.io/docs/0.23.1/learn-cross-dc-replication"><link rel="stylesheet" href="/styles.69c7f342.css">
<link rel="preload" href="/styles.1158364e.js" as="script">
<link rel="preload" href="/runtime~main.c5335e90.js" as="script">
<link rel="preload" href="/main.7622bc77.js" as="script">
<link rel="preload" href="/2.9ef58e45.js" as="script">
<link rel="preload" href="/3.11a434d7.js" as="script">
<link rel="preload" href="/4.ed839a7c.js" as="script">
<link rel="preload" href="/1be78505.242687b6.js" as="script">
<link rel="preload" href="/254.73443591.js" as="script">
<link rel="preload" href="/d9d6c794.d060a537.js" as="script">
<link rel="preload" href="/17896441.c5ff5b2c.js" as="script">
<link rel="preload" href="/9f4a7666.211d2d39.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_OaSq"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/favicon.svg" alt="Temporal logo"><strong class="navbar__title">Temporal</strong></a><a class="navbar__item navbar__link" href="/versions">v0.26.0</a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://temporal.io/careers" target="_blank" rel="noopener noreferrer" activeclassname="navbar__link--active" to="https://temporal.io/careers" class="navbar__item navbar__link">Jobs</a><a href="https://github.com/temporalio/temporal" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="https://join.slack.com/t/temporalio/shared_invite/zt-c1e99p8g-beF7~ZZW2HP6gGStXD8Nuw" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Slack</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><div class="searchWrapper_-F3-"><span aria-label="expand searchbar" role="button" class="searchIconButton_1Dnz" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_2eto"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/favicon.svg" alt="Temporal logo"><strong class="navbar__title">Temporal</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/versions">v0.26.0</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/overview">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://temporal.io/careers" target="_blank" rel="noopener noreferrer" activeclassname="navbar__link--active" to="https://temporal.io/careers" class="menu__link">Jobs</a></li><li class="menu__list-item"><a href="https://github.com/temporalio/temporal" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="https://join.slack.com/t/temporalio/shared_invite/zt-c1e99p8g-beF7~ZZW2HP6gGStXD8Nuw" target="_blank" rel="noopener noreferrer" class="menu__link">Slack</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp" role="complementary"><div class="sidebar_1kLs sidebarWithHideableNavbar_1-U5"><a tabindex="-1" class="sidebarLogo_3ono" href="/"><img src="/img/favicon.svg" alt="Temporal logo"><strong>Temporal</strong></a><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/license">MIT License</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/installing-server">Installing Temporal</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Use Cases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-periodic">Periodic Execution</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-orchestration">Microservice Orchestration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-polling">Polling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-event-driven">Event Driven Application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-partitioned-scan">Storage Scan</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-batch-job">Batch Job</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-provisioning">Infrastructure Provisioning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-cicd">CI/CD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-operational-management">Operational Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-interactive">Interactive Application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-dsl">DSL Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/use-cases-big-ml">Big Data and ML</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Learn</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-glossary">Glossary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-workflows">Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-activities">Activities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-events">Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-queries">Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-topology">Deployment Topology</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-task-lists">Task Lists</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-server-configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-archival">Archival</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/0.23.1/learn-cross-dc-replication">Cross-DC Replication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-workflow-filtering">Filtering Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.23.1/learn-cli">Command Line Interface</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Java SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/java-quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/java-workflow-interface">Workflow Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/java-implementing-workflows">Implementing Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/java-starting-workflow-executions">Starting workflow executions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/java-activity-interface">Activity Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/java-implementing-activities">Implementing activities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/java-versioning">Versioning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/java-distributed-cron">Distributed CRON</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Go SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-sdk-video-tutorial">SDK Video Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-workers">Worker Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-create-workflows">Creating Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-activities">Activities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-execute-activity">Executing Activities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-child-workflows">Child Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-retries">Activity and Workflow Retries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-error-handling">Error Handling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-signals">Signals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-continue-as-new">ContinueAsNew</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-side-effect">SideEffect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-queries">Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-activity-async-completion">Asynchronous Activity Completion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-workflow-testing">Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-versioning">Versioning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-sessions">Sessions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-distributed-cron">Distributed CRON</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.23.1/go-tracing">Tracing and Context Propagation</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is archived documentation for Temporal <strong>v0.23.1</strong>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/docs/overview">latest version</a></strong>.</div></div><div class="docItemContainer_2cwg"><article><div><span class="badge badge--secondary">Version: 0.23.1</span></div><header><h1 class="docTitle_1vWb">Cross-DC Replication</h1></header><div class="markdown"><p>The Temporal Global Namespace feature provides clients with the capability to continue their workflow execution from another
cluster in the event of a datacenter failover. Although you can configure a Global Namespace to be replicated to any number of
clusters, it is only considered active in a single cluster.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="global-namespaces-architecture"></a>Global Namespaces Architecture<a aria-hidden="true" tabindex="-1" class="hash-link" href="#global-namespaces-architecture" title="Direct link to heading">#</a></h2><p>Temporal has introduced a new top level entity, Global Namespaces, which provides support for replication of workflow
execution across clusters. Client applications need to run workers polling on Activity/Decision tasks on all clusters.
Temporal will only dispatch tasks on the current active cluster; workers on the standby cluster will sit idle
until the Global Namespace is failed over.</p><p>Because Temporal is a service that provides highly consistent semantics, we only allow external events like
<strong>StartWorkflowExecution</strong>, <strong>SignalWorkflowExecution</strong>, etc. on an active cluster. Global Namespaces relies on light-weight
transactions (paxos) on the local cluster (Local_Quorum) to update the workflow execution state and create replication
tasks which are applied asynchronously to replicate state across clusters. If an application makes these API calls on a
cluster where Global Namespace is in standby mode, Temporal will reject those calls with <strong>NamespaceNotActiveError</strong>, which
contains the name of the current active cluster. It is the responsibility of the application to forward the external
event to the cluster that is currently active.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="new-config-for-global-namespaces"></a>New config for Global Namespaces<a aria-hidden="true" tabindex="-1" class="hash-link" href="#new-config-for-global-namespaces" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="isglobal"></a>IsGlobal<a aria-hidden="true" tabindex="-1" class="hash-link" href="#isglobal" title="Direct link to heading">#</a></h3><p>This config is used to distinguish namespaces local to the cluster from the global namespace. It controls the creation of
replication tasks on updates allowing the state to be replicated across clusters. This is a read-only setting that can
only be set when the namespace is provisioned.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="clusters"></a>Clusters<a aria-hidden="true" tabindex="-1" class="hash-link" href="#clusters" title="Direct link to heading">#</a></h3><p>A list of clusters where the namespace can fail over to, including the current active cluster.
This is also a read-only setting that can only be set when the namespace is provisioned. A re-replication feature on the
roadmap will allow updating this config to add/remove clusters in the future.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="active-cluster-name"></a>Active Cluster Name<a aria-hidden="true" tabindex="-1" class="hash-link" href="#active-cluster-name" title="Direct link to heading">#</a></h3><p>Name of the current active cluster for the Global Namespace. This config is updated each time the Global Namespace is failed over to
another cluster.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="failover-version"></a>Failover Version<a aria-hidden="true" tabindex="-1" class="hash-link" href="#failover-version" title="Direct link to heading">#</a></h3><p>Unique failover version which also represents the current active cluster for Global Namespace. Temporal allows failover to
be triggered from any cluster, so failover version is designed in a way to not allow conflicts if failover is mistakenly
triggered simultaneously on two clusters.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="conflict-resolution"></a>Conflict Resolution<a aria-hidden="true" tabindex="-1" class="hash-link" href="#conflict-resolution" title="Direct link to heading">#</a></h2><p>Unlike local namespaces which provide at-most-once semantics for activity execution, Global Namespaces can only support at-least-once
semantics. Temporal XDC relies on asynchronous replication of events across clusters, so in the event of a failover
it is possible that activity gets dispatched again on the new active cluster due to a replication task lag. This also
means that whenever workflow execution is updated after a failover by the new cluster, any previous replication tasks
for that execution cannot be applied. This results in loss of some progress made by the workflow execution in the
previous active cluster. During such conflict resolution, Temporal re-injects any external events like Signals to the
new history before discarding replication tasks. Even though some progress could rollback during failovers, Temporal
provides the guarantee that workflows won’t get stuck and will continue to make forward progress.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="visibility-api"></a>Visibility API<a aria-hidden="true" tabindex="-1" class="hash-link" href="#visibility-api" title="Direct link to heading">#</a></h2><p>All Visibility APIs are allowed on both active and standby clusters. This enables
<a href="https://github.com/temporalio/temporal-web" target="_blank" rel="noopener noreferrer">Temporal Web</a> to work seamlessly for Global Namespaces as all visibility records for
workflow executions can be queried from any cluster the namespace is replicated to. Applications making API calls directly
to the Temporal Visibility API will continue to work even if a Global Namespace is in standby mode. However, they might see
a lag due to replication delay when querying the workflow execution state from a standby cluster.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="cli"></a>CLI<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cli" title="Direct link to heading">#</a></h2><p>The Temporal CLI can also be used to query the namespace config or perform failovers. Here are some useful commands.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="query-global-namespace"></a>Query Global Namespace<a aria-hidden="true" tabindex="-1" class="hash-link" href="#query-global-namespace" title="Direct link to heading">#</a></h3><p>The following command can be used to describe Global Namespace metadata:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">$ tctl --ns temporal-canary-xdc n desc</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Name: temporal-canary-xdc</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Description: temporal canary cross </span><span class="token function" style="color:#d73a49">dc</span><span class="token plain"> testing namespace</span></div><div class="token-line" style="color:#393A34"><span class="token plain">OwnerEmail: temporal-dev@temporal.io</span></div><div class="token-line" style="color:#393A34"><span class="token plain">NamespaceData:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Status: REGISTERED</span></div><div class="token-line" style="color:#393A34"><span class="token plain">RetentionInDays: </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">EmitMetrics: </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">ActiveClusterName: dc1</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Clusters: dc1, dc2</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="failover-global-namespace"></a>Failover Global Namespace<a aria-hidden="true" tabindex="-1" class="hash-link" href="#failover-global-namespace" title="Direct link to heading">#</a></h3><p>The following command can be used to failover Global Namespace <em>my-namespace-global</em> to the <em>dc2</em> cluster:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">$ tctl --ns my-namespace-global n up --ac dc2</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="faq"></a>FAQ<a aria-hidden="true" tabindex="-1" class="hash-link" href="#faq" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="what-happens-to-outstanding-activities-after-failover"></a>What happens to outstanding activities after failover?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-happens-to-outstanding-activities-after-failover" title="Direct link to heading">#</a></h3><p>Temporal does not forward activity completions across clusters. Any outstanding activity will eventually timeout based
on the configuration. Your application should have retry logic in place so that the activity gets retried and dispatched
again to a worker after the failover to the new DC. Handling this is pretty much the same as activity timeout caused by
a worker restart even without Global Namespaces.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="what-happens-when-a-start-or-signal-api-call-is-made-to-a-standby-cluster"></a>What happens when a start or signal API call is made to a standby cluster?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-happens-when-a-start-or-signal-api-call-is-made-to-a-standby-cluster" title="Direct link to heading">#</a></h3><p>Temporal will reject the call and return <strong>NamespaceNotActiveError</strong>. It is the responsibility of the application to forward
the failed call to active cluster based on information provided in the error.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="what-is-the-recommended-pattern-to-send-external-events-to-an-active-cluster"></a>What is the recommended pattern to send external events to an active cluster?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-the-recommended-pattern-to-send-external-events-to-an-active-cluster" title="Direct link to heading">#</a></h3><p>The recommendation at this point is to publish events to a Kafka topic if they can be generated in any DC.
Then, have a consumer that consumes from the aggregated Kafka topic in the same DC and sends them to Temporal. Both the
Kafka consumer and Global Namespace need to be failed over together.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/temporalio/temporal-documentation-legacy-v2/blob/master/versioned_docs/version-0.23.1/learn-cross-dc-replication.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/0.23.1/learn-archival"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Archival</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/0.23.1/learn-workflow-filtering"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Filtering Workflows »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#global-namespaces-architecture" class="table-of-contents__link">Global Namespaces Architecture</a></li><li><a href="#new-config-for-global-namespaces" class="table-of-contents__link">New config for Global Namespaces</a><ul><li><a href="#isglobal" class="table-of-contents__link">IsGlobal</a></li><li><a href="#clusters" class="table-of-contents__link">Clusters</a></li><li><a href="#active-cluster-name" class="table-of-contents__link">Active Cluster Name</a></li><li><a href="#failover-version" class="table-of-contents__link">Failover Version</a></li></ul></li><li><a href="#conflict-resolution" class="table-of-contents__link">Conflict Resolution</a></li><li><a href="#visibility-api" class="table-of-contents__link">Visibility API</a></li><li><a href="#cli" class="table-of-contents__link">CLI</a><ul><li><a href="#query-global-namespace" class="table-of-contents__link">Query Global Namespace</a></li><li><a href="#failover-global-namespace" class="table-of-contents__link">Failover Global Namespace</a></li></ul></li><li><a href="#faq" class="table-of-contents__link">FAQ</a><ul><li><a href="#what-happens-to-outstanding-activities-after-failover" class="table-of-contents__link">What happens to outstanding activities after failover?</a></li><li><a href="#what-happens-when-a-start-or-signal-api-call-is-made-to-a-standby-cluster" class="table-of-contents__link">What happens when a start or signal API call is made to a standby cluster?</a></li><li><a href="#what-is-the-recommended-pattern-to-send-external-events-to-an-active-cluster" class="table-of-contents__link">What is the recommended pattern to send external events to an active cluster?</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/overview">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/java-quick-start">Java SDK</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/go-quick-start">Go SDK</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/temporal-workflow" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://join.slack.com/t/temporalio/shared_invite/zt-c1e99p8g-beF7~ZZW2HP6gGStXD8Nuw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/temporalio/temporal" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Temporal Technologies Inc.  All rights reserved. Copyright © 2020 Uber Technologies, Inc.</div></div></div></footer></div>
<script src="/styles.1158364e.js"></script>
<script src="/runtime~main.c5335e90.js"></script>
<script src="/main.7622bc77.js"></script>
<script src="/2.9ef58e45.js"></script>
<script src="/3.11a434d7.js"></script>
<script src="/4.ed839a7c.js"></script>
<script src="/1be78505.242687b6.js"></script>
<script src="/254.73443591.js"></script>
<script src="/d9d6c794.d060a537.js"></script>
<script src="/17896441.c5ff5b2c.js"></script>
<script src="/9f4a7666.211d2d39.js"></script>
</body>
</html>