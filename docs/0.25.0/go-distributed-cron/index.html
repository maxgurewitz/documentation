<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Temporal Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Temporal Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-163137879-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-163137879-1",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Temporal" href="/opensearch.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-163137879-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-163137879-1")</script><title data-react-helmet="true">Distributed CRON | Temporal</title><meta data-react-helmet="true" name="docsearch:version" content="0.25.0"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Distributed CRON | Temporal"><meta data-react-helmet="true" name="description" content="It is relatively straightforward to turn any Temporal workflow into a Cron workflow. All you need"><meta data-react-helmet="true" property="og:description" content="It is relatively straightforward to turn any Temporal workflow into a Cron workflow. All you need"><meta data-react-helmet="true" property="og:url" content="https://temporalio.github.io/docs/0.25.0/go-distributed-cron"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.svg"><link data-react-helmet="true" rel="canonical" href="https://temporalio.github.io/docs/0.25.0/go-distributed-cron"><link rel="stylesheet" href="/styles.69c7f342.css">
<link rel="preload" href="/styles.a7368a58.js" as="script">
<link rel="preload" href="/runtime~main.d30027d8.js" as="script">
<link rel="preload" href="/main.e4883d78.js" as="script">
<link rel="preload" href="/2.e20b398d.js" as="script">
<link rel="preload" href="/3.0935f851.js" as="script">
<link rel="preload" href="/4.f802603b.js" as="script">
<link rel="preload" href="/1be78505.4c607e03.js" as="script">
<link rel="preload" href="/254.048c9fbc.js" as="script">
<link rel="preload" href="/67e1a85c.ce5daa8d.js" as="script">
<link rel="preload" href="/17896441.f8383723.js" as="script">
<link rel="preload" href="/0a344173.83bf3158.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_OaSq"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/favicon.svg" alt="Temporal logo"><strong class="navbar__title">Temporal</strong></a><a class="navbar__item navbar__link" href="/versions">v0.26.0</a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://temporal.io/careers" target="_blank" rel="noopener noreferrer" activeclassname="navbar__link--active" to="https://temporal.io/careers" class="navbar__item navbar__link">Jobs</a><a href="https://github.com/temporalio/temporal" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="https://join.slack.com/t/temporalio/shared_invite/zt-c1e99p8g-beF7~ZZW2HP6gGStXD8Nuw" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Slack</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><div class="searchWrapper_-F3-"><span aria-label="expand searchbar" role="button" class="searchIconButton_1Dnz" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_2eto"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/favicon.svg" alt="Temporal logo"><strong class="navbar__title">Temporal</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/versions">v0.26.0</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/overview">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://temporal.io/careers" target="_blank" rel="noopener noreferrer" activeclassname="navbar__link--active" to="https://temporal.io/careers" class="menu__link">Jobs</a></li><li class="menu__list-item"><a href="https://github.com/temporalio/temporal" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="https://join.slack.com/t/temporalio/shared_invite/zt-c1e99p8g-beF7~ZZW2HP6gGStXD8Nuw" target="_blank" rel="noopener noreferrer" class="menu__link">Slack</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp" role="complementary"><div class="sidebar_1kLs sidebarWithHideableNavbar_1-U5"><a tabindex="-1" class="sidebarLogo_3ono" href="/"><img src="/img/favicon.svg" alt="Temporal logo"><strong>Temporal</strong></a><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/license">MIT License</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/installing-server">Installing Temporal</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Use Cases</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/use-cases-periodic">Periodic Execution</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/use-cases-orchestration">Microservice Orchestration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/use-cases-polling">Polling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/use-cases-event-driven">Event Driven Application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/use-cases-partitioned-scan">Storage Scan</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/use-cases-batch-job">Batch Job</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/use-cases-provisioning">Infrastructure Provisioning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/use-cases-cicd">CI/CD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/use-cases-operational-management">Operational Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/use-cases-interactive">Interactive Application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/use-cases-dsl">DSL Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/use-cases-big-ml">Big Data and ML</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Learn</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/learn-glossary">Glossary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/learn-workflows">Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/learn-activities">Activities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/learn-events">Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/learn-queries">Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/learn-topology">Deployment Topology</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/learn-task-lists">Task Lists</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/learn-server-configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/learn-archival">Archival</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/learn-cross-dc-replication">Cross-DC Replication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/learn-workflow-filtering">Filtering Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/learn-cli">Command Line Interface</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Java SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/java-quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/java-workflow-interface">Workflow Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/java-implementing-workflows">Implementing Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/java-starting-workflow-executions">Starting workflow executions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/java-activity-interface">Activity Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/java-implementing-activities">Implementing activities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/java-versioning">Versioning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.25.0/java-distributed-cron">Distributed CRON</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Go SDK</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-sdk-video-tutorial">SDK Video Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-workers">Worker Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-create-workflows">Creating Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-activities">Activities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-execute-activity">Executing Activities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-child-workflows">Child Workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-retries">Activity and Workflow Retries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-error-handling">Error Handling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-signals">Signals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-continue-as-new">ContinueAsNew</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-side-effect">SideEffect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-queries">Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-activity-async-completion">Asynchronous Activity Completion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-workflow-testing">Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-versioning">Versioning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-sessions">Sessions</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/0.25.0/go-distributed-cron">Distributed CRON</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.25.0/go-tracing">Tracing and Context Propagation</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is archived documentation for Temporal <strong>v0.25.0</strong>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/docs/overview">latest version</a></strong>.</div></div><div class="docItemContainer_2cwg"><article><div><span class="badge badge--secondary">Version: 0.25.0</span></div><header><h1 class="docTitle_1vWb">Distributed CRON</h1></header><div class="markdown"><p>It is relatively straightforward to turn any Temporal workflow into a Cron workflow. All you need
is to supply a cron schedule when starting the workflow using the CronSchedule
parameter of
<a href="https://pkg.go.dev/go.temporal.io/temporal/internal#StartWorkflowOptions" target="_blank" rel="noopener noreferrer">StartWorkflowOptions</a>.</p><p>You can also start a workflow using the Temporal CLI with an optional cron schedule using the <code>--cron</code> argument.</p><p>For workflows with CronSchedule:</p><ul><li>Cron schedule is based on UTC time. For example cron schedule &quot;15 8 * * *&quot;
will run daily at 8:15am UTC.</li><li>If a workflow failed and a RetryPolicy is supplied to the StartWorkflowOptions
as well, the workflow will retry based on the RetryPolicy. While the workflow is
retrying, the server will not schedule the next cron run.</li><li>Temporal server only schedules the next cron run after the current run is
completed. If the next schedule is due while a workflow is running (or retrying),
then it will skip that schedule.</li><li>Cron workflows will not stop until they are terminated or cancelled.</li></ul><p>Temporal supports the standard cron spec:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-go codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// CronSchedule - Optional cron schedule for workflow. If a cron schedule is specified, the workflow will run</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// as a cron based on the schedule. The scheduling will be based on UTC time. The schedule for next run only happen</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// after the current run is completed/failed/timeout. If a RetryPolicy is also supplied, and the workflow failed</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// or timed out, the workflow will be retried based on the retry policy. While the workflow is retrying, it won&#x27;t</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// schedule its next run. If next schedule is due while the workflow is running (or retrying), then it will skip that</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// schedule. Cron workflow will not stop until it is terminated or cancelled (by returning temporal.CanceledError).</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// The cron spec is as following:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ┌───────────── minute (0 - 59)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// │ ┌───────────── hour (0 - 23)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// │ │ ┌───────────── day of the month (1 - 31)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// │ │ │ ┌───────────── month (1 - 12)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// │ │ │ │ ┌───────────── day of the week (0 - 6) (Sunday to Saturday)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// │ │ │ │ │</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// │ │ │ │ │</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// * * * * *</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">CronSchedule </span><span class="token builtin">string</span></div></div></div></div></div><p>The <a href="https://crontab.guru/" target="_blank" rel="noopener noreferrer">crontab guru site</a> is useful for testing your cron expressions.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="convert-existing-cron-workflow"></a>Convert existing cron workflow<a aria-hidden="true" tabindex="-1" class="hash-link" href="#convert-existing-cron-workflow" title="Direct link to heading">#</a></h2><p>Before CronSchedule was available, the previous approach to implementing cron
workflows was to use a delay timer as the last step and then return
<code>ContinueAsNew</code>. One problem with that implementation is that if the workflow
fails or times out, the cron would stop.</p><p>To convert those workflows to make use of Temporal CronSchedule, all you need is to
remove the delay timer and return without using
<code>ContinueAsNew</code>. Then start the workflow with the desired CronSchedule.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="retrieve-last-successful-result"></a>Retrieve last successful result<a aria-hidden="true" tabindex="-1" class="hash-link" href="#retrieve-last-successful-result" title="Direct link to heading">#</a></h2><p>Sometimes it is useful to obtain the progress of previous successful runs.
This is supported by two new APIs in the client library:
<code>HasLastCompletionResult</code> and <code>GetLastCompletionResult</code>. Below is an example of how
to use this in Go:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-go codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">CronWorkflow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx workflow</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Context</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CronResult</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    startTimestamp </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Time</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// By default start from 0 time.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> workflow</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">HasLastCompletionResult</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> progress CronResult</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> workflow</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">GetLastCompletionResult</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">progress</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            startTimestamp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> progress</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">LastSyncTimestamp</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    endTimestamp </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> workflow</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Process work between startTimestamp (exclusive), endTimestamp (inclusive).</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Business logic implementation goes here.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    result </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> CronResult</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">LastSyncTimestamp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> endTimestamp</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><p>Note that this works even if one of the cron schedule runs failed. The
next schedule will still get the last successful result if it ever successfully
completed at least once. For example, for a daily cron workflow, if the first day
run succeeds and the second day fails, then the third day run will still get
the result from first day&#x27;s run using these APIs.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/temporalio/temporal-documentation-legacy-v2/blob/master/versioned_docs/version-0.25.0/go-distributed-cron.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/0.25.0/go-sessions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Sessions</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/0.25.0/go-tracing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tracing and Context Propagation »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#convert-existing-cron-workflow" class="table-of-contents__link">Convert existing cron workflow</a></li><li><a href="#retrieve-last-successful-result" class="table-of-contents__link">Retrieve last successful result</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/overview">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/java-quick-start">Java SDK</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/go-quick-start">Go SDK</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/temporal-workflow" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://join.slack.com/t/temporalio/shared_invite/zt-c1e99p8g-beF7~ZZW2HP6gGStXD8Nuw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/temporalio/temporal" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Temporal Technologies Inc.  All rights reserved. Copyright © 2020 Uber Technologies, Inc.</div></div></div></footer></div>
<script src="/styles.a7368a58.js"></script>
<script src="/runtime~main.d30027d8.js"></script>
<script src="/main.e4883d78.js"></script>
<script src="/2.e20b398d.js"></script>
<script src="/3.0935f851.js"></script>
<script src="/4.f802603b.js"></script>
<script src="/1be78505.4c607e03.js"></script>
<script src="/254.048c9fbc.js"></script>
<script src="/67e1a85c.ce5daa8d.js"></script>
<script src="/17896441.f8383723.js"></script>
<script src="/0a344173.83bf3158.js"></script>
</body>
</html>